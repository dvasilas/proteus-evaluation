import numpy as np
from matplotlib import pyplot as plt

x =[500.07527,1000.00041,2000.12605,2500.32767,2999.35171,3500.61361,3961.22224,4501.44157,5123.96493,5517.40271,6164.26833,6668.97663,6841.86631]
readV = {
    '0': [0.97346,0.94781,0.89922,0.87708,0.85294,0.83081,0.71387,0.68207,0.652,0.63763,0.62991,0.61791,0.60789],
    '1': [0.0262,0.05084,0.09535,0.11485,0.13513,0.15339,0.24017,0.25851,0.27464,0.28283,0.28623,0.29007,0.29355],
    '2-3': [0.00034,0.00135,0.00543,0.00805,0.01191,0.01577,0.0456,0.05859,0.07211,0.07785,0.08209,0.08944,0.09562],
    '>=4': [0,0,0,0.00001,0.00002,0.00003,0.00036,0.00083,0.00125,0.00169,0.00176,0.00258,0.00294],
}

f, ax = plt.subplots()

ax.stackplot(x, readV.values(),labels=readV.keys(), colors=['g', 'b', 'y', 'r'])

ax.legend(loc='lower left')
ax.set_xlabel('Throughput [requests/s]')
ax.set_ylabel('Queries that returned version k [%] (0 = latest)')

plt.savefig('readV_freshness_throughput_client.png')
plt.close()